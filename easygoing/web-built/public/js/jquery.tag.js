"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};!function(t){var e="ontouchend"in document.documentElement?"touchend":"click",a=t.fn.on;t.fn.on=function(){return arguments[0]="click"===arguments[0]?e:arguments[0],a.apply(this,arguments)};var i,n,s=[],o={},l={init:function(e){function a(){return o.tags}function l(t){o.tags.indexOf(t)>=0||(o.tags.unshift(t),s.unshift(t))}var r={inputClass:".hidden-tag",tags:[]};o=e?t.extend({},r,e):t.extend({},r,o),t(document).bind("click",function(e){var a=t(".tag.isActive");if(a.length>0){var i=a.find(".tag-input"),n=a.find(".tag-label"),s=a.next(".hidden-item").val(),r=i.val();""==r?a.addClass("isEmpty"):(a.addClass("isLabel"),l(r));var d=a.prev(".hidden-tag"),f=d.val();d.val(r),d.change(),n.text(r),o.updateTag(s,f,r),t(".ol-tags").remove(),a.removeClass("isActive")}t(".ol-tags").remove(),c=!1});var c=!1;return t(document).on("keydown",function(e){var a=t(document.activeElement);if(a.hasClass("tag-input"))if(c)n=t(".item--tag.isActive"),38==e.keyCode?($prevTag=n.prev(".item--tag"),$prevTag.length>0&&(n.removeClass("isActive"),$prevTag.addClass("isActive"))):40==e.keyCode?($nextTag=n.next(".item--tag"),$nextTag.length>0&&(n.removeClass("isActive"),$nextTag.addClass("isActive"),n=$nextTag)):13==e.keyCode&&(c=!1,n.click());else if(13==e.keyCode)t(document).click();else if(40==e.keyCode){var i=t(".ol-tags > li");if($nextInput=a.closest(".orderitem").next(".orderitem").find(".tag-input"),i.length>0){var s=i.first();s.addClass("isActive"),c=!0}}}),this.each(function(){var e=t(this),n=e.val(),s=e.next(".hidden-item").val(),r=t('<span class="tag"><span class="tag-label">'+n+'</span><input type="text" class="tag-input" value="'+n+'"></span></span>'),c=r.find(".tag-label"),d=r.find(".tag-input");c.bind("click",function(){var e=t(".tag.isActive");if(e.length>0){var a=e.find(".tag-input"),i=e.find(".tag-label"),n=a.val();""==n?e.addClass("isEmpty"):(e.addClass("isLabel"),l(n));var c=e.prev(".hidden-tag"),f=c.val();c.val(n),i.text(n),c.change(),e.removeClass("isActive"),o.updateTag(s,f,n)}return r.removeClass("isLabel isEmpty"),r.addClass("isActive"),d.focus(),!1}),d.bind("focus",function(){var n=d.offset(),l=d.outerWidth();i=d,t(".ol-tags").remove();var f=a();if(Array.isArray(f)&&f.length>0&&t(window).width()>420){var v='<ol class="ol-tags">';f.forEach(function(t){v+='<li class="item--tag">'+t+"</li>"}),v+="</ol>";var u=t(v);u.css("width",l),u.offset({left:n.left,top:n.top+18}),u.children("li").one("click",function(){var a=t(this).text();d.val(a),c.text(a);var i=e.val();return e.val(a),e.change(),o.updateTag(s,i,a),r.removeClass("isActive"),r.addClass("isLabel"),t(".ol-tags").remove(),!1}),t("main").append(u)}return!1}),d.bind("blur",function(t){}),e.after(r),""!=n?r.addClass("isLabel"):r.addClass("isEmpty")})}};t.fn.tag=function(){var e=arguments[0];if(l[e]){e=l[e];var a=Array.prototype.slice(arguments,1)}else"object"!=(void 0===e?"undefined":_typeof(e))&&e?t.error("method is not existed"):(e=l.init,a=arguments);e.apply(this,a)},t.fn.tag.setTags=function(t){if(Array.isArray(t)&&t.length>0){var e=t.concat([]);s.forEach(function(t){e.indexOf(t)<0&&e.unshift(t)}),o.tags=e}},t.fn.tag.settings=o}(jQuery);
//# sourceMappingURL=jquery.tag.js.map
