"use strict";define(["jquery","knockout","knockout.mapping"],function(e,s,n){s.mapping=n;var r=function(e){var n=this;n._id=s.observable(e?e._id:""),n.client=s.observable(e?e.client:""),n.recipient=s.observable(e?e.recipient:""),n.address=s.observable(e?e.address:""),n.phone=s.observable(e?e.phone:""),n.isSend=s.observable(e?e.isSend:"")},o=function(n,o){function t(e){var s=[];return e.forEach(function(e){s.push(new r(e))}),s}var d=this,a=t(n);d.addresses=s.observableArray(a),d.setAddresses=function(e){d.addresses(t(e))},d.addAddress=function(){d.addresses.unshift(new r),o.update()},d.removeAddress=function(s){arguments[3]();var n=arguments[4],r=s._id();return d.addresses.remove(s),""==r?(o.update(),void n()):(e.ajax("./address/"+r,{success:function(e,s){n()},dataType:"json",type:"DELETE"}),void o.update())},d.submitAddress=function(n){arguments[3]();var r=arguments[4];console.log("post request....");var t=s.mapping.toJS(n);return e.post("./address",t,function(e,t){console.log("get post result"),s.mapping.fromJS(e,{},n),o.update(),r()},"json"),!1}};return o});
//# sourceMappingURL=addresses.js.map
