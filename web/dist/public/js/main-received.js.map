{"version":3,"sources":["public/js/main-received.js"],"names":["requirejs","config","basicUrl","jquery","paths","received-orders","require","OrdersModel","ko","$","isTouch","document","documentElement","_on","fn","on","arguments","apply","this","init","tap","handler","valueAccessor","allBindings","viewModel","bindingContext","element","$target","target","event","$succeed","$confirm","hasClass","offset","one","$submitting","children","$parent","css","top","show","addClass","removeClass","delay","fadeOut","$data","text","keyCode","trigger","update","activeElement","blur","setTimeout","ordersModel","orders","applyBindings","window","scroll","scrollTop"],"mappings":"YAAAA,WAAUC,QAAVD,SAAUC,OAENC,OAGIC,OAAQ,mBADZC,SAAO,iBACHD,mBAAQ,yBACRE,kBAAY,qBASpBC,SAAS,kBAAmB,WAAY,UAAW,SAAAC,EAAAC,EAAAC,GAE/C,GAAIC,GAAW,gBAAkBC,UAASC,gBAAmB,aAAe,QACxEC,EAAMJ,EAAEK,GAAGC,EACfN,GAAEK,GAAGC,GAAK,WAEN,MADAC,WAAU,GAAuB,UAAjBA,UAAA,GAA4BN,EAAUM,UAAtD,GACOH,EAAII,MAAMC,KAAMF,YAOvBG,EAAAA,gBAAMC,KAEFD,KAAA,SAAIE,EAAUC,EAAdC,EAAAC,EAAAC,GAEAhB,GAAEiB,GAAYJ,GAEVK,GAAAA,GAAAA,GAAUlB,QAAQmB,SAAlBC,GAEAF,QAAIG,EAAAA,EAAaF,OACjB,IAAIG,GAAatB,EAAA,sBADbqB,EAAWrB,EAAE,mBAGbkB,EAAQK,EAAAA,WAAZ,IAAIL,QAAQK,SAAS,kBAAoBL,QAAQK,SAAS,iBAAkB,CAGxEvB,GAAEwB,GAAAN,QAAmBO,QAEjBH,GAAAA,mBAAiBG,IAAA,QAAjB,WAEIC,EAAAA,QAAYC,QACZf,EAAIY,EAASN,MAAQM,EAArBI,QAAAR,EAAA,WACApB,EAAA2B,SAAiB,QAAOH,KAAxB,gBAED,IAAAA,GAAWN,QAAAM,QAFVxB,GAAE,WAAW6B,IAAI,MAAOL,EAAOM,KAAKC,QAKpCV,WAEArB,EAAAgC,SAAmB,eACfN,EAAAA,YAAYO,eAEfjC,EAHD,WAAAkC,MAAA,KAAAC,QAAA,OAAA,WAVJT,EAAAO,YAAA,eAHJZ,EAAAW,SAAA,qBA4BAhC,EAAE,mBAAgByB,IAAOD,QAAOM,WAJ5BR,EAASa,QAAQ,UAYjBnC,EAAAA,YAAE6B,IAAWA,MAAIL,EAAOA,KAAOM,OAA/B,YAIAJ,SAAAA,SAAA,iBAPJd,EAAQI,EAAeoB,MAAOpB,EAAeY,QAASR,EAAO,WAUzDpB,EAAA2B,SAAmB,QAAKQ,KAAQ,gBAC5BT,IAAAA,GAAAA,QAAYO,QACZZ,GAAAA,WAASW,IAAAA,MAASR,EAAAM,KAAlBC,QAZR,WAOIL,EAAYM,SAAS,eAYzBpB,EAAQI,YAAeoB,eAEnBpC,EAAA,WAAakB,MAAAA,KAAQM,QAArB,OAAA,WACEE,EAAFO,YAAwBT,eAEzBH,EAAWW,SAAA,mBAOdpB,QAAQI,SAAeoB,eAG3BxB,EAAAI,EAAAoB,MAAApB,EAAAY,QAAAR,EAAA,WA7EJM,EAAAC,SAAA,QAAAU,KAAA,aANiB,IAAAb,GAAAN,QAAAM,QAwFbxB,GAAA,WAASiB,IAASJ,MAAAA,EAAlBiB,KAAiChB,QAf1B,WAqBLwB,EAAN,WAAqBJ,MAAA,KAAAC,QAAA,UAKjBjB,EAAQqB,EAARH,MAAApB,EAAAY,QAAAR,EAIP,QAAA,KAfDoB,OAAQ,SAASvB,EAASJ,EAAeC,EAAaC,EAAWC,MAnGzEhB,EAAAE,UAAAI,GAAA,UAAA,SAAAc,GAyGQ,GAAqB,IAAjBA,EAAMkB,QAAe,CAErBtC,EAAEE,SAASuC,eAAeC,MAC1B,IAAIxB,GAAUlB,EAAE,gBAIhB,OAHA2C,YAAW,WACPzB,EAAQqB,QAAQ,UACjB,MACI,IAQf,IAAIK,GAAc,GAAI9C,GAAY+C,OAClC9C,GAAG+C,cAAcF,EAAa5C,EAAE,mBAAmB,IAGnDA,EAAE+C,QAAQC,OAAO,WACb,GAAIlB,GAAM9B,EAAE+C,QAAQE,WACpBjD,GAAE,cAAc6B,IAAI,MAAOC","file":"main-received.js","sourcesContent":["requirejs.config({\n\n    basicUrl: './js',\n\n    paths: {\n        jquery: 'jquery-2.2.3.min',\n        'knockout': 'knockout-3.4.0',\n        'knockout.mapping': 'knockout.mapping.2.4.1',\n        'received-orders':'received-orders'\n    }\n\n});\n\n\n\nrequire(['received-orders', 'knockout', 'jquery'], function(OrdersModel, ko, $) {\n\n    var isTouch = ('ontouchstart' in document.documentElement) ? 'touchstart' : 'click';\n    var _on = $.fn.on;\n    $.fn.on = function() {\n        arguments[0] = (arguments[0] === 'click') ? isTouch : arguments[0];\n        return _on.apply(this, arguments);\n    };\n\n\n\n    ko.bindingHandlers.tap = {\n\n        init: function(element, valueAccessor, allBindings, viewModel, bindingContext) {\n\n            var handler = valueAccessor();\n\n            $(element).on('click', function(event) {\n\n                $target = $(event.target);\n                var $submitting = $('.prompt-submitting');\n                var $succeed = $('.prompt-succeed');\n                var $confirm = $('.confirm');\n\n                if ($target.hasClass('action-delete') && $target.hasClass('action-submit')) {\n                    var offset = $target.offset();\n\n                    $('.confirm-submit').one('click', function() {\n\n                        $confirm.fadeOut('slow');\n                        handler(bindingContext.$data, bindingContext.$parent, event, function() {\n                            $submitting.children('span').text(\"Submitting...\");\n                            var offset = $target.offset();\n                            $('.prompt').css('top', offset.top).show();\n\n                        }, function() {\n\n                            $submitting.addClass('disappeared')\n                            $succeed.removeClass('disappeared')\n\n                            $('.prompt').delay(600).fadeOut('slow', function() {\n                                $submitting.removeClass('disappeared')\n                                $succeed.addClass('disappeared')\n                            });\n\n                        });\n\n                    })\n\n                    $('.confirm-cancel').one('click', function() {\n\n                        $confirm.fadeOut('slow');\n\n                    })\n\n                    $('.confirm').css('top', offset.top).fadeIn('slow');\n\n\n                } else if ($target.hasClass('action-submit')) {\n\n                    handler(bindingContext.$data, bindingContext.$parent, event, function() {\n                        $submitting.children('span').text(\"Submitting...\");\n                        var offset = $target.offset();\n                        $('.prompt').css('top', offset.top).show();\n\n                    }, function() {\n\n                        $submitting.addClass('disappeared')\n                        $succeed.removeClass('disappeared')\n\n                        $('.prompt').delay(600).fadeOut('slow', function() {\n                            $submitting.removeClass('disappeared')\n                            $succeed.addClass('disappeared')\n                        });\n\n                    });\n\n                } else if ($target.hasClass('action-load')) {\n\n                    handler(bindingContext.$data, bindingContext.$parent, event, function() {\n                        $submitting.children('span').text(\"Loading...\");\n                        var offset = $target.offset();\n                        $('.prompt').css('top', offset.top).show();\n\n                    }, function() {\n\n                        $('.prompt').delay(600).fadeOut('slow');\n\n                    });\n\n                } else {\n                    handler(bindingContext.$data, bindingContext.$parent, event);\n\n                }\n                return false;\n            });\n\n\n        },\n        update: function(element, valueAccessor, allBindings, viewModel, bindingContext) {\n\n        }\n    };\n\n    $(document).on('keydown', function(event) {\n        if (event.keyCode == 13) {\n            //var $target = $(document.activeElement).closest('.enterArea').find('.action-enter');\n            $(document.activeElement).blur();\n            var $target = $('.action-enter');\n            setTimeout(function() {\n                $target.trigger('click')\n            }, 100);\n            return false;\n\n        }\n\n\n    });\n\n\n    var ordersModel = new OrdersModel(orders);\n    ko.applyBindings(ordersModel, $('#receivedOrders')[0]);\n\n\n    $(window).scroll(function() {\n        var top = $(window).scrollTop();\n        $(\".searchbox\").css(\"top\", top);\n\n    });\n\n\n});\n"]}