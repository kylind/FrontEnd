{"version":3,"sources":["public/js/main-received.js"],"names":["requirejs","config","basicUrl","paths","jquery","require","OrdersModel","ko","$","isTouch","document","documentElement","_on","fn","on","arguments","apply","bindingHandlers","tap","init","element","valueAccessor","allBindings","viewModel","bindingContext","handler","event","$target","target","$submitting","$succeed","$confirm","hasClass","offset","one","fadeOut","$data","$parent","children","text","css","top","show","addClass","removeClass","delay","fadeIn","update","keyCode","activeElement","blur","setTimeout","trigger","ordersModel","orders","applyBindings","window","scroll","scrollTop"],"mappings":"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","file":"main-received.js","sourcesContent":["requirejs.config({\n\n    basicUrl: './js',\n\n    paths: {\n        jquery: 'jquery-2.2.3.min',\n        'knockout': 'knockout-3.4.0',\n        'knockout.mapping': 'knockout.mapping.2.4.1',\n        'received-orders':'received-orders'\n    }\n\n});\n\n\n\nrequire(['received-orders', 'knockout', 'jquery'], function(OrdersModel, ko, $) {\n\n    var isTouch = ('ontouchstart' in document.documentElement) ? 'touchstart' : 'click';\n    var _on = $.fn.on;\n    $.fn.on = function() {\n        arguments[0] = (arguments[0] === 'click') ? isTouch : arguments[0];\n        return _on.apply(this, arguments);\n    };\n\n\n\n    ko.bindingHandlers.tap = {\n\n        init: function(element, valueAccessor, allBindings, viewModel, bindingContext) {\n\n            var handler = valueAccessor();\n\n            $(element).on('click', function(event) {\n\n                $target = $(event.target);\n                var $submitting = $('.prompt-submitting');\n                var $succeed = $('.prompt-succeed');\n                var $confirm = $('.confirm');\n\n                if ($target.hasClass('action-delete') && $target.hasClass('action-submit')) {\n                    var offset = $target.offset();\n\n                    $('.confirm-submit').one('click', function() {\n\n                        $confirm.fadeOut('slow');\n                        handler(bindingContext.$data, bindingContext.$parent, event, function() {\n                            $submitting.children('span').text(\"Submitting...\");\n                            var offset = $target.offset();\n                            $('.prompt').css('top', offset.top).show();\n\n                        }, function() {\n\n                            $submitting.addClass('disappeared')\n                            $succeed.removeClass('disappeared')\n\n                            $('.prompt').delay(600).fadeOut('slow', function() {\n                                $submitting.removeClass('disappeared')\n                                $succeed.addClass('disappeared')\n                            });\n\n                        });\n\n                    })\n\n                    $('.confirm-cancel').one('click', function() {\n\n                        $confirm.fadeOut('slow');\n\n                    })\n\n                    $('.confirm').css('top', offset.top).fadeIn('slow');\n\n\n                } else if ($target.hasClass('action-submit')) {\n\n                    handler(bindingContext.$data, bindingContext.$parent, event, function() {\n                        $submitting.children('span').text(\"Submitting...\");\n                        var offset = $target.offset();\n                        $('.prompt').css('top', offset.top).show();\n\n                    }, function() {\n\n                        $submitting.addClass('disappeared')\n                        $succeed.removeClass('disappeared')\n\n                        $('.prompt').delay(600).fadeOut('slow', function() {\n                            $submitting.removeClass('disappeared')\n                            $succeed.addClass('disappeared')\n                        });\n\n                    });\n\n                } else if ($target.hasClass('action-load')) {\n\n                    handler(bindingContext.$data, bindingContext.$parent, event, function() {\n                        $submitting.children('span').text(\"Loading...\");\n                        var offset = $target.offset();\n                        $('.prompt').css('top', offset.top).show();\n\n                    }, function() {\n\n                        $('.prompt').delay(600).fadeOut('slow');\n\n                    });\n\n                } else {\n                    handler(bindingContext.$data, bindingContext.$parent, event);\n\n                }\n                return false;\n            });\n\n\n        },\n        update: function(element, valueAccessor, allBindings, viewModel, bindingContext) {\n\n        }\n    };\n\n    $(document).on('keydown', function(event) {\n        if (event.keyCode == 13) {\n            //var $target = $(document.activeElement).closest('.enterArea').find('.action-enter');\n            $(document.activeElement).blur();\n            var $target = $('.action-enter');\n            setTimeout(function() {\n                $target.trigger('click')\n            }, 100);\n            return false;\n\n        }\n\n\n    });\n\n\n    var ordersModel = new OrdersModel(orders);\n    ko.applyBindings(ordersModel, $('#receivedOrders')[0]);\n\n\n    $(window).scroll(function() {\n        var top = $(window).scrollTop();\n        $(\".searchbox\").css(\"top\", top);\n\n    });\n\n\n});\n"]}