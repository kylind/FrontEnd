"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};!function(t){var e="ontouchend"in document.documentElement?"touchend":"click",a=t.fn.on;t.fn.on=function(){return arguments[0]="click"===arguments[0]?e:arguments[0],a.apply(this,arguments)};var n,i,s=[],l={},o={init:function(e){function a(){return l.tags}function o(t){l.tags.indexOf(t)>=0||(l.tags.unshift(t),s.unshift(t))}var r={inputClass:".hidden-tag",tags:[]};l=e?t.extend({},r,e):t.extend({},r,l),t(document).bind("click",function(e){var a=t(".tag.isActive");if(a.length>0){var n=a.find(".tag-input"),i=a.find(".tag-label"),s=a.next(".hidden-item").val(),r=n.val();""==r?a.addClass("isEmpty"):(a.addClass("isLabel"),o(r));var d=a.prev("hidden-tag"),f=d.val();d.val(r),d.change(),i.text(r),l.updateTag(s,f,r),t(".ol-tags").remove(),a.removeClass("isActive"),c=!1}});var c=!1;return t(document).on("keydown",function(e){var a=t(document.activeElement);if(a.hasClass("tag-input"))if(c)i=t(".item--tag.isActive"),38==e.keyCode?($prevTag=i.prev(".item--tag"),$prevTag.length>0&&(i.removeClass("isActive"),$prevTag.addClass("isActive"))):40==e.keyCode?($nextTag=i.next(".item--tag"),$nextTag.length>0&&(i.removeClass("isActive"),$nextTag.addClass("isActive"),i=$nextTag)):13==e.keyCode&&(c=!1,i.click());else if(13==e.keyCode)t(document).click();else if(40==e.keyCode){var n=t(".ol-tags > li");if($nextInput=a.closest(".orderitem").next(".orderitem").find(".tag-input"),n.length>0){var s=n.first();s.addClass("isActive"),c=!0}}}),this.each(function(){var e=t(this),i=e.val(),s=e.next(".hidden-item").val(),r=t('<span class="tag"><span class="tag-label">'+i+'</span><input type="text" class="tag-input" value="'+i+'"></span></span>'),c=r.find(".tag-label"),d=r.find(".tag-input");c.bind("click",function(){var e=t(".tag.isActive");if(e.length>0){var a=e.find(".tag-input"),n=e.find(".tag-label"),i=a.val();""==i?e.addClass("isEmpty"):(e.addClass("isLabel"),o(i));var c=e.prev("hidden-tag"),f=c.val();c.val(i),n.text(i),c.change(),e.removeClass("isActive"),l.updateTag(s,f,i)}return r.removeClass("isLabel isEmpty"),r.addClass("isActive"),d.focus(),!1}),d.bind("focus",function(){var i=d.offset(),o=d.outerWidth();n=d,t(".ol-tags").remove();var f=a();if(Array.isArray(f)&&f.length>0){var v='<ol class="ol-tags">';f.forEach(function(t){v+='<li class="item--tag">'+t+"</li>"}),v+="</ol>";var u=t(v);u.css("width",o),u.offset({left:i.left,top:i.top+18}),u.children("li").one("click",function(){var a=t(this).text();d.val(a),c.text(a);var n=e.val();return e.val(a),e.change(),l.updateTag(s,n,a),r.removeClass("isActive"),r.addClass("isLabel"),t(".ol-tags").remove(),!1}),t("main").append(u)}return!1}),d.bind("blur",function(t){}),e.after(r),""!=i?r.addClass("isLabel"):r.addClass("isEmpty")})}};t.fn.tag=function(){var e=arguments[0];if(o[e]){e=o[e];var a=Array.prototype.slice(arguments,1)}else"object"!=("undefined"==typeof e?"undefined":_typeof(e))&&e?t.error("method is not existed"):(e=o.init,a=arguments);e.apply(this,a)},t.fn.tag.setTags=function(t){if(Array.isArray(t)&&t.length>0){var e=t.concat([]);s.forEach(function(t){e.indexOf(t)<0&&e.unshift(t)}),l.tags=e}},t.fn.tag.settings=l}(jQuery);
//# sourceMappingURL=jquery.tag.js.map
